/*!
* IDeX Form validation v0.1.0
* http://idesignexperiences.com/#form-validation
*
* Includes parts of jQuery
* (http://jquery.com/), released under the MIT Licence (https://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt)
*
* Copyright 2013, 2014 SÃ©bastien Filion me@idesignexperiences.com
* Released under the MIT license
*
* Built on: 2014/02/02
*
*/

!function(a,b,c){function d(a){if(a.hasAttribute("data-validation")){var b,c,d;b=!0,c=a.value,d=a.getAttribute("data-validation").split(/\s+/);for(var f=0;f<d.length;f++){var g,h;g=d[f],h="undefined"!=typeof e[g]?e[g]:new RegExp(g),h.test(c)||(b=!1)}return b}}a.merge=function(b,c){if(!b)return c;if(!c)return b;if("object"!=typeof c||"object"==typeof c&&c instanceof Array&&c instanceof Function)return c;for(key in c)b[key]=b.hasOwnProperty(key)?a.merge(b[key],c[key]):c[key];return b},a.hasOwnProperty("render")||(a.render=function(a,c){return b.Mustache.render(a,c)}),a.hasOwnProperty("addClass")||(a.addClass=function(b,c){function d(b){a.hasClass(b,c)||(b.className=b.className+" "+c)}if(b.hasOwnProperty("length"))for(var e=0;e<b.length;e++)d(b[e]);else d(b)}),a.hasOwnProperty("removeClass")||(a.removeClass=function(a,b){function c(a){a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)","g"),"$1")}if(a.length)for(var d=0;d<a.length;d++)c(a[d]);else c(a)}),a.hasOwnProperty("hasClass")||(a.hasClass=function(a,b){var c=" "+b+" ",d=/[\t\r\n\f]/g;return 1===a.nodeType&&(" "+a.className+" ").replace(d," ").indexOf(c)>=0?!0:!1}),a.hasOwnProperty("on")||(a.on=function(a,c,d){a.addEventListener?a.addEventListener(c,d,!1):a.attachEvent("on"+c,function(){return d.call(a,b.event)})}),a.hasOwnProperty("fire")||(a.fire=function(a,b){if(c.createEvent){var d=c.createEvent("HTMLEvents");return d.initEvent(b,!0,!0),!a.dispatchEvent(d)}var d=c.createEventObject();return a.fireEvent("on"+b,d)}),a.hasOwnProperty("preventDefault")||(a.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1});var e={required:/(.+)/,alpha:/[A-Za-z]+/,numeral:/[0-9]/,alphanumeral:/[A-Za-z0-9]/,email:/[A-Za-z0-9.]+@[A-Za-z0-9.]+\.[A-Za-z]{2,3}/};a.validate=function(b,c){function e(b){b.hasAttribute("data-validation")&&a.on(b,"blur",function(){d(b)?a.removeClass(b,f.classes.error):a.addClass(b,f.classes.error)})}var f={classes:{error:"error"},callbacks:{submit:function(){return!0}}};if(f=a.merge(f,c),!b)throw new Error("No element was submitted...");if("FORM"===b.tagName&&a.on(b,"submit",function(c){for(var d=0;d<b.length;d++)a.fire(b[d],"blur");b.querySelectorAll("."+f.classes.error).length>0?a.preventDefault(c):f.callbacks.submit.apply(this)}),b.length)for(var g=0;g<b.length;g++)e(b[g]);else e(b)}}(window.idex=window.idex||{},window,document);